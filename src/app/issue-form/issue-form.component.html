<form id="issue-form" onsubmit="return false">
  <div style="margin-bottom: 1.5em">
    <label for="ProjectId">Project</label>
    <nb-select name="ProjectId" fullWidth [(ngModel)]="issue.ProjectId">
      <nb-option *ngFor="let opt of projectOptions" [value]="opt.value">{{
        opt.text
      }}</nb-option>
    </nb-select>
  </div>

  <div style="margin-bottom: 1.5em">
    <label for="Title">Title</label>
    <input
      type="text"
      name="Name"
      nbInput
      fullWidth
      required
      minlength="4"
      [(ngModel)]="issue.Title"
      #Title="ngModel"
      [status]="
        Title.invalid && (Title.dirty || Title.touched) ? 'danger' : 'primary'
      "
    />
    <div *ngIf="Title.invalid && (Title.dirty || Title.touched)">
      <div *ngIf="Title.errors?.required">
        Title is required.
      </div>
      <div *ngIf="Title.errors?.minlength">
        Title must be at least 4 characters long.
      </div>
    </div>
  </div>

  <div style="margin-bottom: 1.5em">
    <label for="Details">Details</label>
    <textarea
      name="Details"
      nbInput
      fullWidth
      required
      minlength="4"
      [(ngModel)]="issue.Details"
      #Details="ngModel"
      [status]="
        Details.invalid && (Details.dirty || Details.touched)
          ? 'danger'
          : 'primary'
      "
    ></textarea>
    <div *ngIf="Details.invalid && (Details.dirty || Details.touched)">
      <div *ngIf="Details.errors?.required">
        Details is required.
      </div>
      <div *ngIf="Details.errors?.minlength">
        Details must be at least 4 characters long.
      </div>
    </div>
  </div>

  <div class="row">
    <div class="column">
      <label for="Priority">Priority</label>
      <nb-select name="Priority" [(ngModel)]="issue.Priority">
        <nb-option *ngFor="let opt of opts.PriorityArray" [value]="opt">{{
          opt
        }}</nb-option>
      </nb-select>
    </div>
    <div class="column">
      <label for="Status">Status</label>
      <nb-select name="Status" [(ngModel)]="issue.Status">
        <nb-option *ngFor="let opt of opts.StatusArray" [value]="opt">{{
          opt
        }}</nb-option>
      </nb-select>
    </div>
    <div class="column">
      <label for="Type">Type</label>
      <nb-select name="Type" [(ngModel)]="issue.Type">
        <nb-option *ngFor="let opt of opts.IssueTypeArray" [value]="opt">{{
          opt
        }}</nb-option>
      </nb-select>
    </div>
    <div class="column">
      <label for="Complexity">Complexity</label>
      <nb-select name="Complexity" [(ngModel)]="issue.Complexity">
        <nb-option *ngFor="let opt of opts.ComplexityArray" [value]="opt">{{
          opt
        }}</nb-option>
      </nb-select>
    </div>
    <div class="column">
      <label for="AssignedToId">Assigned</label>
      <nb-select name="AssignedToId" [(ngModel)]="issue.AssignedToId">
        <nb-option *ngFor="let opt of userOptions" [value]="opt.value">{{
          opt.text
        }}</nb-option>
      </nb-select>
    </div>
  </div>
</form>
